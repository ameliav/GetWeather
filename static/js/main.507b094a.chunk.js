(this.webpackJsonpmyapp4_weather=this.webpackJsonpmyapp4_weather||[]).push([[0],{18:function(e,t,a){e.exports=a(40)},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),s=a.n(c),i=a(2),l=a(3),o=a(5),d=a(4),u=a(6),m=a.n(u),h=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"convertTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date(1e3*e);if("hours"===t)return n.getHours();if("day"===t)return r[n.getDay()];if("date"===t){var c=a[n.getMonth()],s=n.getDate(),i=n.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});return c+" "+s+" "+i}return n}},{key:"getForecast",value:function(e,t){return"overcast clouds"===e||"broken clouds"===e?["Cloudy","cloudy"]:"few clouds"===e||"scattered clouds"===e?t>5&&t<19?["Partly Cloudy","partlycloudy"]:["Partly Cloudy","partlycloudynight"]:"clear sky"===e?t>5&&t<19?["Sunny","sunny"]:["Clear","clear"]:e.includes("rain")||e.includes("drizzle")?["Rain","rain"]:e.includes("snow")||e.includes("sleet")?["Snow","snow"]:e.includes("thunderstorm")?["Thunderstorm","thunder"]:["Other","sunny"]}},{key:"cardJSX",value:function(e,t,a,r,c,s,i){return n.a.createElement("div",{className:"ui dark card ".concat(i),key:e},n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"center aligned header"},t),n.a.createElement("div",{className:"center aligned meta"},n.a.createElement("span",{className:"date"},a))),n.a.createElement("div",{className:"image"},n.a.createElement("img",{alt:"weather",src:"images/".concat(r,".png")})),n.a.createElement("div",{className:"content"},n.a.createElement("a",{className:"center aligned header",href:"/"},"".concat(c," \xb0 F")),n.a.createElement("div",{className:"center aligned description"}," ",s)))}},{key:"renderCards",value:function(e){var t=this;return e.map((function(e){var a=e.dt,r=t.convertTime(a,"hours"),n="current"===t.props.type?e.weather:e.weather[0].description,c=t.getForecast(n,r)[0],s=t.getForecast(n,r)[1],i="daily"===t.props.type?e.temp.day:e.temp,l="current"===t.props.type?"centered":"customcard";return t.cardJSX(a,t.convertTime(a,"day"),t.convertTime(a,"date"),s,i,c,l)}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"two wide column"}),n.a.createElement("div",{className:"twelve wide column"},n.a.createElement("div",{className:"current"===this.props.type?"ui basic right aligned segment":"customcardlist"},this.renderCards(this.props.weatherArray))),n.a.createElement("div",{className:"two wide column"})),n.a.createElement("div",{className:"extra padded row"},n.a.createElement("div",{className:"column"})),n.a.createElement("div",{className:"extra padded row"},n.a.createElement("div",{className:"column"})))}}]),a}(n.a.Component),p=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={city:"Unknown City",country:"Unknown Country",errorMessage:"",noLocMsg:"",hourlyWeather:[],currentWeather:[],dailyWeather:[]},r}return Object(l.a)(a,[{key:"getLocalresponse",value:function(e){this.setState({currentWeather:this.props.currentForecast,dailyWeather:this.props.dailyForecast,hourlyWeather:this.props.hourlyForecast,city:"Merrifield",country:"US",noLocMsg:"Using cached data.",errorMessage:e})}},{key:"getAPIresponse",value:function(e,t){var a=this,r="https://api.openweathermap.org/data/2.5/",n="13225715ae7ca76fee401e51d3ed6692",c=r+"onecall?lat="+e+"&lon="+t+"&units=imperial&exclude=minutely,alerts&appid="+n;m.a.get(c).then((function(e){a.setState({currentWeather:[{dt:e.data.current.dt,temp:e.data.current.temp,weather:e.data.current.weather[0].description,sunrise:e.data.current.sunrise,sunset:e.data.current.sunset}],dailyWeather:e.data.daily.slice(0,5),hourlyWeather:e.data.hourly.slice(0,5)})}),(function(e){a.getLocalresponse(e)}));var s=r+"forecast?lat="+e+"&lon="+t+"&appid="+n;m.a.get(s).then((function(e){a.setState({city:e.data.city.name,country:e.data.city.country})}),(function(e){a.getLocalresponse(e)}))}},{key:"componentDidMount",value:function(){var e=this;window.navigator.geolocation.getCurrentPosition((function(t){e.getAPIresponse(t.coords.latitude,t.coords.longitude)}),(function(t){e.setState({noLocMsg:"Default location",errorMessage:t}),e.getAPIresponse(38.9072,77.0369)}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui basic right aligned segment"},this.state.city,", ",this.state.country,n.a.createElement("i",{className:"map marker alternate icon"}),n.a.createElement("br",null),this.state.noLocMsg))),n.a.createElement(h,{weatherArray:this.state.currentWeather,type:"current"}),n.a.createElement("div",{className:"extra padded row"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui large header center aligned"},"5-Hour Forecast"))),n.a.createElement(h,{weatherArray:this.state.hourlyWeather,type:"hourly"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui large header center aligned"},"5-Day Forecast"))),n.a.createElement(h,{weatherArray:this.state.dailyWeather,type:"daily"}))}}]),a}(n.a.Component),y=a(17),v=a.n(y);var g=function(){return n.a.createElement("div",{className:"ui centered grid"},n.a.createElement("div",{className:"right aligned column"},n.a.createElement("div",{className:"ui teal inverted compact menu"},n.a.createElement("div",{className:" item"},n.a.createElement("h4",null,n.a.createElement("i",{className:"umbrella icon"})," Weather App")),n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"ui teal button",onClick:function(){return v.a.fire({title:"About",html:"This was a project made by <b>Amelia V.</b><br/>It shows the weather at your location.<br/>If your browser cannot detect your location, a default location is used to request the data. <br/>The project uses OpenWeather API. If the API unreachable, hardcoded data will be shown.",icon:"info",confirmButtonText:'<i className="icon thumbs up"></i> Ok'})}},"About")))))},w=[{dt:1602627220,temp:66.31,weather:"scattered clouds",sunrise:1602626400,sunset:1602640800}],E=[{dt:1602626400,temp:64.49,weather:[{description:"scattered clouds"}]},{dt:160263e4,temp:62.65,weather:[{description:"scattered clouds"}]},{dt:1602633600,temp:60.26,weather:[{description:"scattered clouds"}]},{dt:1602637200,temp:58.32,weather:[{description:"clear sky"}]},{dt:1602640800,temp:56.7,weather:[{description:"clear sky"}]}],f=[{dt:1602604800,temp:{day:58.15},weather:[{description:"overcast clouds"}]},{dt:1602691200,temp:{day:62.6},weather:[{description:"clear sky"}]},{dt:1602777600,temp:{day:66.63},weather:[{description:"clear sky"}]},{dt:1602864e3,temp:{day:50.13},weather:[{description:"heavy intensity rain"}]},{dt:1602950400,temp:{day:52.18},weather:[{description:"light rain"}]}];var N=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,null),n.a.createElement("div",{className:"ui grid"},n.a.createElement(p,{dailyForecast:f,currentForecast:w,hourlyForecast:E})))};s.a.render(n.a.createElement(N,null),document.querySelector("#root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.507b094a.chunk.js.map